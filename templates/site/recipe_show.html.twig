{% extends 'base.html.twig' %}

{% block title %}{{ recipe.title }} - Recette{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="row">
        <!-- Title -->
        <div class="col-12 mb-4">
            <h1 class="text-blue fw-bold border-bottom border-gold border-5">{{ recipe.title }}</h1>
        </div>
        
        <!-- Image and Description -->
        <div class="col-12 mb-4">
            <div class="card shadow-sm">
                <img src="{{ asset('images/recipes/' ~ recipe.imageName) }}" alt="{{ recipe.title }}" class="card-img-top">
                <div class="card-body">
                    <p class="card-text text-muted">{{ recipe.description }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="row text-center mb-4">
        <div class="col-6 col-md-2 mb-3">
            <p><i class="fas fa-tachometer-alt"></i></p>
            <p><strong>Difficulté</strong></p>
            <span class="badge bg-primary">{{ recipe.difficulty }}</span>
        </div>
        <div class="col-6 col-md-2 mb-3">
            <p><i class="fas fa-users"></i></p>
            <p><strong>Quantité</strong></p>
            <span class="badge bg-success">{{ recipe.nbGuest }} pers</span>
        </div>
        <div class="col-6 col-md-2 mb-3">
            <p><i class="fas fa-clock"></i></p>
            <p><strong>Préparation</strong></p>
            <span class="badge bg-warning">{{ recipe.preparationTime }} min</span>
        </div>
        <div class="col-6 col-md-2 mb-3">
            <p><i class="fas fa-fire"></i></p>
            <p><strong>Cuisson</strong></p>
            <span class="badge bg-danger">{{ recipe.cookingTime }} min</span>
        </div>
        <div class="col-6 col-md-2 mb-3">
            <p><i class="fas fa-hourglass-half"></i></p>
            <p><strong>Temps total</strong></p>
            <span class="badge bg-info">{{ recipe.preparationTime + recipe.cookingTime + recipe.restTime }} min</span>
        </div>
    </div>

    <div class="row">
        <!-- Ingredients -->
        <div class="col-12 col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h3 class="card-title fs-4 fw-bold text-secondary">Ingrédients</h3>
                    <ul class="list-group list-group-flush">
                        {% for ingredient in recipe.ingredients %}
                            <li class="list-group-item">{{ ingredient.quantity }} {{ ingredient.unit }} - {{ ingredient.name }}</li>
                        {% else %}
                            <li class="list-group-item">Aucun ingrédient spécifié.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- Steps -->
        <div class="col-12 col-md-6 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h3 class="card-title fs-4 fw-bold text-secondary">Étapes</h3>
                    <ol class="list-group list-group-numbered">
                        {% for step in recipe.steps %}
                            <li class="list-group-item">{{ step.description }}</li>
                        {% else %}
                            <li class="list-group-item">Aucune étape spécifiée.</li>
                        {% endfor %}
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h3 class="card-title fs-4 fw-bold text-secondary">Notez cette recette</h3>
                    <p class="card-text">Avez-vous aimé cette recette ?</p>
                    <!-- Rating system with mushrooms -->
                    <div>
                        {% for i in 1..5 %}
                            <img src="{{ asset('images/vote/mushroom-gold-min.png') }}" alt="Mushroom rating" class="mushroom-rating" data-rating="{{ i }}">
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}